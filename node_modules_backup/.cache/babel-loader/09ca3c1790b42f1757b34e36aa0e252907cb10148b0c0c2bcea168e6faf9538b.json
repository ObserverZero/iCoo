{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\n/* eslint-disable vue/no-unused-components */\nimport { defineComponent, reactive, ref } from 'vue';\nimport { IonHeader, IonMenu, IonMenuToggle, IonMenuButton, IonButtons, IonButton, IonToolbar, IonTabBar, IonTabButton, IonTabs, IonIcon, IonPage, IonRouterOutlet, IonTitle, IonContent, IonItem, IonSearchbar, IonBadge, IonLabel, IonToggle } from '@ionic/vue';\nimport { ellipse, calendarClear, peopleCircle, beer, menu, close, search, notifications, personCircle, addCircle, colorFilterSharp, logIn, chatbox, cog, logOut } from 'ionicons/icons';\nimport sdk, { EventType } from 'matrix-js-sdk';\nimport { convertCompilerOptionsFromJson } from 'typescript';\nconst loginCreds = {\n  //accessToken: \"syt_b2JzZXJ2ZXJ6ZXJv_qbsSNMdGRZpXMsNvXJeX_3OODDh\",\n  accessToken: \"syt_c2lydG91Zw_laSmwiuzWqKkDcoVARpX_1gO11B\",\n  userId: \"@sirtoug:home.parecon.work\",\n  baseUrl: 'http://localhost:8008'\n};\nconst client = sdk.createClient({\n  baseUrl: loginCreds.baseUrl,\n  accessToken: loginCreds.accessToken,\n  userId: loginCreds.userId\n});\nfunction getHandleFromUserId() {\n  return loginCreds.userId.replace(/:.*/, '');\n}\nasync function getOwnProfile() {\n  let responseFromServer = await client.getProfileInfo(loginCreds.userId);\n  responseFromServer.handle = getHandleFromUserId();\n  responseFromServer.displayname = JSON.parse(responseFromServer.displayname);\n  return responseFromServer;\n}\nlet globalProfile = reactive({\n  handle: '',\n  displayname: '',\n  hashtags: [],\n  text: ''\n});\nasync function getProfile() {\n  let profile = await getOwnProfile();\n  globalProfile.handle = profile.handle;\n  globalProfile.displayname = profile.displayname.name;\n  globalProfile.hashtags = profile.displayname.hashtags;\n  globalProfile.text = profile.displayname.text;\n  console.log(profile);\n  return profile;\n}\n// TODO: switch logo for a search bar with the logo name inside as suggested text\n// TODO: get rid of menu button and replace with the avatar for same function.\n\nexport default defineComponent({\n  name: 'TabsPage',\n  components: {\n    IonHeader,\n    IonMenuToggle,\n    IonMenuButton,\n    IonButtons,\n    IonButton,\n    IonToolbar,\n    IonTabs,\n    IonTabBar,\n    IonTabButton,\n    IonIcon,\n    IonPage,\n    IonItem,\n    IonRouterOutlet,\n    IonMenu,\n    IonTitle,\n    IonContent,\n    IonSearchbar,\n    IonBadge,\n    IonLabel,\n    IonToggle\n  },\n  data() {\n    let switchable = ref('');\n    switchable = \"nope\";\n    let joinedSearchable = false;\n    let profile = ref('');\n    profile = getOwnProfile();\n    return {\n      joinedSearchable,\n      profile,\n      switchable,\n      globalProfile\n    };\n  },\n  setup() {\n    return {\n      ellipse,\n      calendarClear,\n      peopleCircle,\n      personCircle,\n      beer,\n      search,\n      notifications,\n      addCircle,\n      colorFilterSharp,\n      logIn,\n      chatbox,\n      cog,\n      logOut\n    };\n  },\n  methods: {\n    fetchData() {\n      this.profile = getProfile();\n    },\n    switchData() {\n      if (this.switchable === \"nope\") {\n        this.switchable = \"yep\";\n      } else {\n        this.switchable = \"nope\";\n      }\n    }\n  },\n  created() {\n    this.$watch(() => this.$route.params, () => {\n      setInterval(() => {\n        this.fetchData();\n        this.switchData();\n      }, 3000);\n    },\n    // fetch the data when the view is created and the data is\n    // already being observed\n    {\n      immediate: true\n    });\n  }\n});","map":{"version":3,"mappings":"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","names":["defineComponent","reactive","ref","IonHeader","IonMenu","IonMenuToggle","IonMenuButton","IonButtons","IonButton","IonToolbar","IonTabBar","IonTabButton","IonTabs","IonIcon","IonPage","IonRouterOutlet","IonTitle","IonContent","IonItem","IonSearchbar","IonBadge","IonLabel","IonToggle","ellipse","calendarClear","peopleCircle","beer","menu","close","search","notifications","personCircle","addCircle","colorFilterSharp","logIn","chatbox","cog","logOut","sdk","EventType","convertCompilerOptionsFromJson","loginCreds","accessToken","userId","baseUrl","client","createClient","getHandleFromUserId","replace","getOwnProfile","responseFromServer","getProfileInfo","handle","displayname","JSON","parse","globalProfile","hashtags","text","getProfile","profile","name","console","log","components","data","switchable","joinedSearchable","setup","methods","fetchData","switchData","created","$watch","$route","params","setInterval","immediate"],"sourceRoot":"","sources":["/Users/observerzero/Project/Dev/icoo/src/views/TabsPage.vue"],"sourcesContent":["<template>\n  <IonPage>\n    <IonMenu content-id=\"main-content\" type=\"overlay\">\n      <IonContent>\n        <IonItem></IonItem>\n        <IonItem>\n          <IonButton fill=\"clear\" href=\"/tabs/profile\" size=\"large\">\n            <IonIcon :icon=\"personCircle\" size=\"large\"/>\n            <IonLabel style=\"padding-left: .5em;\">{{ globalProfile.handle }}</IonLabel>\n          </IonButton>\n        </IonItem>\n        <IonItem>\n          <IonButton fill=\"clear\" href=\"/tabs/profile\" size=\"large\">\n            <IonIcon :icon=\"logIn\" size=\"large\"/>\n            <IonLabel style=\"padding-left: .5em;\">Log In</IonLabel>\n          </IonButton>\n        </IonItem>\n        <IonItem>\n          <IonButton fill=\"clear\" href=\"/tabs/profile\" size=\"large\">\n            <IonIcon :icon=\"logOut\" size=\"large\"/>\n            <IonLabel style=\"padding-left: .5em;\">Log Out</IonLabel>\n          </IonButton>\n        </IonItem>\n        <IonItem>\n          <IonButton fill=\"clear\" href=\"/tabs/profile\" size=\"large\">\n            <IonIcon :icon=\"chatbox\" size=\"large\"/>\n            <IonLabel style=\"padding-left: .5em;\">Messages</IonLabel>\n          </IonButton>\n        </IonItem>\n        <IonItem>\n          <IonButton fill=\"clear\" href=\"/tabs/profile\" size=\"large\">\n            <IonIcon :icon=\"cog\" size=\"large\"/>\n            <IonLabel style=\"padding-left: .5em;\">Settings</IonLabel>\n          </IonButton>\n        </IonItem>\n        <IonItem>\n          <IonToggle :checked=\"joinedSearchable\"></IonToggle>\n            <IonLabel style=\"padding-left: .5em;\">Searchable</IonLabel>\n        </IonItem>\n      </IonContent>\n    </IonMenu>\n    <IonHeader :translucent=\"false\">\n      <div id=\"main-content\">\n        <IonToolbar>\n          <IonMenuToggle auto-hide=\"false\" slot=\"start\">\n            <img id=\"avatar\" alt=\"Silhouette of a person's head\" src=\"../../public/assets/banners/hacker_soft_colors.png\"/>\n          </IonMenuToggle>\n          <IonTitle><span class=\"i\">ยก</span>Coo!</IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton>\n              <IonIcon :icon=\"search\" color=\"tertiary\" size=\"large\"/>\n            </IonButton>\n            <IonButton href=\"/tabs/notifications\">\n              <IonIcon :icon=\"notifications\" color=\"tertiary\"/>\n              <IonBadge slot=\"end\" color=\"danger\">22</IonBadge>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </div>\n    </IonHeader>\n    <IonTabs>\n      <IonRouterOutlet></IonRouterOutlet>\n      <IonTabBar slot=\"bottom\">\n        <IonTabButton tab=\"calendar\" href=\"/tabs/calendar\">\n          <IonIcon :icon=\"calendarClear\" size=\"large\"/>\n        </IonTabButton>\n\n        <IonTabButton tab=\"groups\" href=\"/tabs/groups\">\n          <IonIcon :icon=\"colorFilterSharp\" size=\"large\"/>\n        </IonTabButton>\n\n        <IonTabButton tab=\"people\" href=\"/tabs/people\">\n          <IonIcon :icon=\"peopleCircle\" size=\"large\"/>\n        </IonTabButton>\n      </IonTabBar>\n    </IonTabs>\n  </IonPage>\n</template>\n\n<script>\n/* eslint-disable vue/no-unused-components */\nimport {defineComponent, reactive, ref} from 'vue';\nimport {\n  IonHeader,\n  IonMenu,\n  IonMenuToggle,\n  IonMenuButton,\n  IonButtons,\n  IonButton,\n  IonToolbar,\n  IonTabBar,\n  IonTabButton,\n  IonTabs,\n  IonIcon,\n  IonPage,\n  IonRouterOutlet,\n  IonTitle,\n  IonContent,\n  IonItem,\n  IonSearchbar,\n  IonBadge, \n  IonLabel,\n  IonToggle,\n} from '@ionic/vue';\nimport {\n  ellipse,\n  calendarClear,\n  peopleCircle,\n  beer,\n  menu,\n  close,\n  search,\n  notifications,\n  personCircle,\n  addCircle,\n  colorFilterSharp, \n  logIn, \n  chatbox, \n  cog,\n  logOut,\n} from 'ionicons/icons';\nimport sdk, {EventType} from 'matrix-js-sdk'\nimport { convertCompilerOptionsFromJson } from 'typescript'\n\nconst loginCreds = {\n  //accessToken: \"syt_b2JzZXJ2ZXJ6ZXJv_qbsSNMdGRZpXMsNvXJeX_3OODDh\",\n  accessToken: \"syt_c2lydG91Zw_laSmwiuzWqKkDcoVARpX_1gO11B\",\n  userId: \"@sirtoug:home.parecon.work\",\n  baseUrl: 'http://localhost:8008'\n}\n\nconst client = sdk.createClient({\n  baseUrl: loginCreds.baseUrl,\n  accessToken: loginCreds.accessToken,\n  userId: loginCreds.userId,\n})\n\nfunction getHandleFromUserId() {\n  return loginCreds.userId.replace(/:.*/, '')\n}\n\nasync function getOwnProfile() {\n  let responseFromServer = await client.getProfileInfo(loginCreds.userId)\n  responseFromServer.handle = getHandleFromUserId()\n  responseFromServer.displayname = JSON.parse(responseFromServer.displayname)\n  return responseFromServer\n}\n\nlet globalProfile = reactive({\n  handle: '',\n  displayname: '',\n  hashtags: [],\n  text: '',\n})\n\nasync function getProfile() {\n  let profile = await getOwnProfile()\n  globalProfile.handle = profile.handle\n  globalProfile.displayname = profile.displayname.name\n  globalProfile.hashtags = profile.displayname.hashtags\n  globalProfile.text = profile.displayname.text\n  console.log(profile)\n  return profile\n}\n// TODO: switch logo for a search bar with the logo name inside as suggested text\n// TODO: get rid of menu button and replace with the avatar for same function.\n\nexport default defineComponent({\n  name: 'TabsPage',\n  components: {\n    IonHeader,\n    IonMenuToggle,\n    IonMenuButton,\n    IonButtons,\n    IonButton,\n    IonToolbar,\n    IonTabs,\n    IonTabBar,\n    IonTabButton,\n    IonIcon,\n    IonPage,\n    IonItem,\n    IonRouterOutlet,\n    IonMenu,\n    IonTitle,\n    IonContent,\n    IonSearchbar,\n    IonBadge,\n    IonLabel,\n    IonToggle,\n  },\n  data() {\n    let switchable = ref('')\n    switchable = \"nope\"\n    let joinedSearchable = false;\n    let profile = ref('')\n    profile = getOwnProfile()\n    return {\n      joinedSearchable,\n      profile,\n      switchable,\n      globalProfile,\n    }\n  },\n  setup() {\n    return {\n      ellipse,\n      calendarClear,\n      peopleCircle,\n      personCircle,\n      beer,\n      search,\n      notifications,\n      addCircle,\n      colorFilterSharp,\n      logIn,\n      chatbox,\n      cog,\n      logOut,\n    }\n  },\n  methods: {\n    fetchData() {\n      this.profile = getProfile()\n    },\n    switchData() {\n      if (this.switchable === \"nope\") {\n        this.switchable = \"yep\"\n      } else {\n        this.switchable = \"nope\"\n      }\n    }\n  },\n  created() {\n    this.$watch(\n        () => this.$route.params,\n        () => {\n          setInterval(() => {\n            this.fetchData()\n            this.switchData()\n          }, 3000)\n        },\n        // fetch the data when the view is created and the data is\n        // already being observed\n        {immediate: true}\n    )\n  },\n});\n</script>\n<style scoped>\n.i {\n  position: relative;\n  bottom: 3.5px;\n}\n#avatar {\n  width: 2em;\n  margin-left: 1em;\n  margin-top: .4em;\n  border-radius: 1em;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}