{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineStore } from 'pinia';\nimport sdk, { EventType } from 'matrix-js-sdk';\nlet roomNamesAndIdsAsObject = {};\nconst client = sdk.createClient({\n  baseUrl: \"https://matrix.org\",\n  accessToken: \"syt_b2JzZXJ2ZXJ6ZXJv_qbsSNMdGRZpXMsNvXJeX_3OODDh\",\n  userId: \"@observerzero:matrix.org\"\n});\nclient.startClient();\nfunction login() {\n  client.loginWithPassword('username', 'password').then(function () {\n    console.log('Logged in!');\n  });\n}\nfunction getRooms() {\n  const rooms = client.getRooms();\n  console.log(rooms);\n  return rooms;\n}\nasync function getARoom(roomId) {\n  const room = await client.getRoom(roomId);\n  return room;\n}\nfunction getAllRoomNames() {\n  const rooms = getRooms();\n  const roomNames = rooms.map(room => room.name);\n  return roomNames;\n}\nfunction getAllRoomIds() {\n  const rooms = getRooms();\n  const roomIds = rooms.map(room => room.roomId);\n  return roomIds;\n}\nfunction getAllRoomNamesAndIds() {\n  let roomNames = getAllRoomNames();\n  let roomIds = getAllRoomIds();\n  let roomNamesAndIds = [];\n  for (let i = 0; i < roomNames.length; i++) {\n    roomNamesAndIds.push({\n      name: roomNames[i],\n      id: roomIds[i]\n    });\n  }\n  Object.assign(roomNamesAndIdsAsObject, roomNamesAndIds);\n  return roomNamesAndIdsAsObject;\n}\nfunction returnRoomNamesFromRoomObject(rooms) {\n  const roomNames = rooms.map(room => room.name);\n  return roomNames;\n}\nfunction returnRoomIdsFromRoomObject(rooms) {\n  const roomIds = rooms.map(room => room.roomId);\n  return roomIds;\n}\nfunction getGroups() {\n  let rooms = client.getRooms();\n  let roomNames = returnRoomNamesFromRoomObject(rooms);\n  let roomIds = returnRoomIdsFromRoomObject(rooms);\n  let roomNamesAndIds = [];\n  for (let i = 0; i < roomNames.length; i++) {\n    roomNamesAndIds.push({\n      name: roomNames[i],\n      id: roomIds[i]\n    });\n  }\n  Object.assign(roomNamesAndIdsAsObject, roomNamesAndIds);\n  console.log(roomNamesAndIdsAsObject);\n  return roomNamesAndIdsAsObject;\n}\nfunction getAllUsers() {\n  const users = client.getUsers();\n  return users;\n}\n\n//TODO - Add a setter for creating a room\n//TODO - Refactor for returning objects instead of arrays\n//TODO - Add a function to get a room's timeline\n//TODO - Add a function to get a room's type\n\nexport const useMatrixClient = defineStore('matrix-client', {\n  state: () => {\n    return {\n      client: client,\n      getRooms: getRooms,\n      getARoom: getARoom,\n      getAllRoomNames: getAllRoomNames,\n      getAllRoomIds: getAllRoomIds,\n      getAllRoomNamesAndIds: getAllRoomNamesAndIds,\n      getGroups: getGroups\n    };\n  },\n  getters: {\n    getRoom: state => roomId => {\n      return state.getARoom(roomId);\n    },\n    getRooms: state => () => {\n      return state.getRooms();\n    },\n    getRoomNames: state => () => {\n      return state.getAllRoomNames();\n    },\n    getRoomIds: state => () => {\n      return state.getAllRoomIds();\n    },\n    getRoomNamesAndIds: state => () => {\n      return state.getAllRoomNamesAndIds();\n    },\n    getGroups: state => () => {\n      return state.getGroups();\n    }\n  }\n});","map":{"version":3,"names":["defineStore","sdk","EventType","roomNamesAndIdsAsObject","client","createClient","baseUrl","accessToken","userId","startClient","login","loginWithPassword","then","console","log","getRooms","rooms","getARoom","roomId","room","getRoom","getAllRoomNames","roomNames","map","name","getAllRoomIds","roomIds","getAllRoomNamesAndIds","roomNamesAndIds","i","length","push","id","Object","assign","returnRoomNamesFromRoomObject","returnRoomIdsFromRoomObject","getGroups","getAllUsers","users","getUsers","useMatrixClient","state","getters","getRoomNames","getRoomIds","getRoomNamesAndIds"],"sources":["/Users/observerzero/Project/Dev/icoo/src/stores/MatrixClient.js"],"sourcesContent":["import { defineStore } from 'pinia';\nimport sdk, {EventType} from 'matrix-js-sdk';\n\nlet roomNamesAndIdsAsObject = {};\n\nconst client = sdk.createClient({\n  baseUrl: \"https://matrix.org\",\n  accessToken: \"syt_b2JzZXJ2ZXJ6ZXJv_qbsSNMdGRZpXMsNvXJeX_3OODDh\",\n  userId: \"@observerzero:matrix.org\"\n});\n\nclient.startClient();\n\nfunction login() {\n  client.loginWithPassword('username', 'password').then(function() {\n    console.log('Logged in!')\n  })\n}\n\nfunction getRooms() {\n  const rooms = client.getRooms();\n  console.log(rooms);\n  return rooms;\n}\n\nasync function getARoom(roomId) {\n  const room = await client.getRoom(roomId);\n  return room;\n}\n\nfunction getAllRoomNames() {\n  const rooms = getRooms();\n  const roomNames = rooms.map(room => room.name);\n  return roomNames;\n}\n\nfunction getAllRoomIds() {\n  const rooms = getRooms();\n  const roomIds = rooms.map(room => room.roomId);\n  return roomIds;\n}\n\nfunction getAllRoomNamesAndIds() {\n  let roomNames = getAllRoomNames();\n  let roomIds = getAllRoomIds();\n  let roomNamesAndIds = [];\n  for (let i = 0; i < roomNames.length; i++) {\n    roomNamesAndIds.push({name: roomNames[i], id: roomIds[i]})\n  }\n  Object.assign(roomNamesAndIdsAsObject, roomNamesAndIds)\n  return roomNamesAndIdsAsObject;\n}\n\nfunction returnRoomNamesFromRoomObject(rooms) {\n  const roomNames = rooms.map(room => room.name);\n  return roomNames;\n}\n\nfunction returnRoomIdsFromRoomObject(rooms) {\n  const roomIds = rooms.map(room => room.roomId);\n  return roomIds;\n}\n\nfunction getGroups() {\n  let rooms = client.getRooms();\n  let roomNames = returnRoomNamesFromRoomObject(rooms);\n  let roomIds = returnRoomIdsFromRoomObject(rooms);\n  let roomNamesAndIds = [];\n  for (let i = 0; i < roomNames.length; i++) {\n    roomNamesAndIds.push({name: roomNames[i], id: roomIds[i]})\n  }\n  Object.assign(roomNamesAndIdsAsObject, roomNamesAndIds)\n  console.log(roomNamesAndIdsAsObject);\n  return roomNamesAndIdsAsObject;\n}\n\nfunction getAllUsers() {\n  const users = client.getUsers();\n  return users;\n}\n\n//TODO - Add a setter for creating a room\n//TODO - Refactor for returning objects instead of arrays\n//TODO - Add a function to get a room's timeline\n//TODO - Add a function to get a room's type\n\nexport const useMatrixClient = defineStore('matrix-client', {\n  state: () => {\n    return ({\n      client: client,\n      getRooms: getRooms,\n      getARoom: getARoom,\n      getAllRoomNames: getAllRoomNames,\n      getAllRoomIds: getAllRoomIds,\n      getAllRoomNamesAndIds: getAllRoomNamesAndIds,\n      getGroups: getGroups,\n    });\n  },\n  getters: {\n    getRoom: (state) => (roomId) => {\n      return state.getARoom(roomId);\n    },\n    getRooms: (state) => () => {\n      return state.getRooms();\n    },\n    getRoomNames: (state) => () => {\n      return state.getAllRoomNames();\n    },\n    getRoomIds: (state) => () => {\n      return state.getAllRoomIds();\n    },\n    getRoomNamesAndIds: (state) => () => {\n      return state.getAllRoomNamesAndIds();\n    },\n    getGroups: (state) => () => {\n      return state.getGroups();\n    },\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}