{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\";\nimport _imports_0 from '../../public/assets/banners/hacker_soft_colors.png';\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"p\", {\n  style: {\n    \"padding-top\": \"1.4em\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"img\", {\n  id: \"avatarBar\",\n  alt: \"Silhouette of a person's head\",\n  src: _imports_0\n}, null, -1 /* HOISTED */);\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_IonHeader = _resolveComponent(\"IonHeader\");\n  const _component_IonMenuToggle = _resolveComponent(\"IonMenuToggle\");\n  const _component_IonTitle = _resolveComponent(\"IonTitle\");\n  const _component_IonIcon = _resolveComponent(\"IonIcon\");\n  const _component_IonButton = _resolveComponent(\"IonButton\");\n  const _component_IonBadge = _resolveComponent(\"IonBadge\");\n  const _component_IonButtons = _resolveComponent(\"IonButtons\");\n  const _component_IonToolbar = _resolveComponent(\"IonToolbar\");\n  const _component_IonSegmentButton = _resolveComponent(\"IonSegmentButton\");\n  const _component_IonItem = _resolveComponent(\"IonItem\");\n  const _component_IonSegment = _resolveComponent(\"IonSegment\");\n  const _component_GroupItem = _resolveComponent(\"GroupItem\");\n  const _component_KickstartItem = _resolveComponent(\"KickstartItem\");\n  const _component_IonContent = _resolveComponent(\"IonContent\");\n  const _component_IonFabButton = _resolveComponent(\"IonFabButton\");\n  const _component_IonFab = _resolveComponent(\"IonFab\");\n  const _component_IonPage = _resolveComponent(\"IonPage\");\n  return _openBlock(), _createBlock(_component_IonPage, null, {\n    default: _withCtx(() => [_createVNode(_component_IonHeader, null, {\n      default: _withCtx(() => [_hoisted_1]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_IonContent, {\n      ref: \"stuff\",\n      \"scroll-events\": true\n    }, {\n      default: _withCtx(() => [_createVNode(_component_IonItem, null, {\n        default: _withCtx(() => [_createVNode(_component_IonToolbar, null, {\n          default: _withCtx(() => [_createVNode(_component_IonMenuToggle, {\n            \"auto-hide\": \"false\",\n            slot: \"start\"\n          }, {\n            default: _withCtx(() => [_hoisted_2]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_IonTitle, null, {\n            default: _withCtx(() => [_createTextVNode(\"iCoo\")]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_IonButtons, {\n            slot: \"end\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_IonButton, null, {\n              default: _withCtx(() => [_createVNode(_component_IonIcon, {\n                icon: _ctx.search,\n                color: \"tertiary\",\n                size: \"large\"\n              }, null, 8 /* PROPS */, [\"icon\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_IonButton, {\n              href: \"/tabs/notifications\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_IonIcon, {\n                icon: _ctx.notifications,\n                color: \"tertiary\"\n              }, null, 8 /* PROPS */, [\"icon\"]), _createVNode(_component_IonBadge, {\n                slot: \"end\",\n                color: \"danger\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"22\")]),\n                _: 1 /* STABLE */\n              })]),\n\n              _: 1 /* STABLE */\n            })]),\n\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        }), _createVNode(_component_IonSegment, {\n          value: \"joined\",\n          onIonChange: _cache[0] || (_cache[0] = $event => _ctx.segmentChanged($event)),\n          modelValue: _ctx.view.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.view.value = $event)\n        }, {\n          default: _withCtx(() => [_createVNode(_component_IonSegmentButton, {\n            value: \"Discover\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" Discover \")]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_IonSegmentButton, {\n            value: \"joined\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" Joined \")]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_IonSegmentButton, {\n            value: \"invites\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" Invites \")]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_IonSegmentButton, {\n            value: \"kickstart\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" Kickstarters \")]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_IonItem, null, {\n            default: _withCtx(() => [_createVNode(_component_IonIcon, {\n              icon: _ctx.menu\n            }, null, 8 /* PROPS */, [\"icon\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _ctx.view.value == 'joined' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.groups, (value, name) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: name\n        }, [value.type === 'm.space' && value.name !== 'internal_groups' && value.name !== 'board' && value.name !== 'groups' && value.name !== 'chat' && value.name !== 'searchable' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_GroupItem, {\n          name: value.name,\n          id: value.id,\n          topic: value.topic.text,\n          handle: value.handle,\n          href: value.href,\n          banner: value.topic.banner\n        }, null, 8 /* PROPS */, [\"name\", \"id\", \"topic\", \"handle\", \"href\", \"banner\"])])) : _createCommentVNode(\"v-if\", true)]);\n      }), 128 /* KEYED_FRAGMENT */))])) : _ctx.view.value == 'kickstart' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createVNode(_component_KickstartItem, {\n        name: \"Permaculture Sognsvann\",\n        id: \"nope\",\n        topic: \"Starting a permaculture project at Sognsvann. \\n                 Need people who know their shit.\",\n        handle: \"permakultursognsvann\",\n        href: \"something\",\n        banner: \"farm\"\n      }), _createVNode(_component_KickstartItem, {\n        name: \"Plastic Recycling Grünerløkka\",\n        id: \"yope\",\n        topic: \"Cutting up plastic and melting the shit. \\n                 Need people who like the smell of burning ethylene.\",\n        handle: \"recyclegrunerlokka\",\n        href: \"something\",\n        banner: \"factory\"\n      })])) : _createCommentVNode(\"v-if\", true)]),\n      _: 1 /* STABLE */\n    }, 512 /* NEED_PATCH */), _createVNode(_component_IonFab, {\n      slot: \"fixed\",\n      vertical: \"bottom\",\n      horizontal: \"end\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_IonFabButton, {\n        onClick: _ctx.openModal,\n        color: \"dark\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_IonIcon, {\n          icon: _ctx.add\n        }, null, 8 /* PROPS */, [\"icon\"])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"mappings":"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","names":["_imports_0","_createElementVNode","style","id","alt","src","_createBlock","_component_IonPage","_createVNode","_component_IonHeader","_hoisted_1","_component_IonContent","ref","_component_IonItem","_component_IonToolbar","_component_IonMenuToggle","slot","_hoisted_2","_component_IonTitle","_component_IonButtons","_component_IonButton","_component_IonIcon","icon","_ctx","color","size","href","_component_IonBadge","_component_IonSegment","value","onIonChange","$event","_component_IonSegmentButton","_createElementBlock","_Fragment","name","key","type","_component_GroupItem","topic","text","handle","banner","_component_KickstartItem","_component_IonFab","vertical","horizontal","_component_IonFabButton","onClick"],"sourceRoot":"","sources":["/Users/observerzero/Project/Dev/icoo/src/views/Groups.vue"],"sourcesContent":["<template>\n  <IonPage>\n    <IonHeader>\n      <p style=\"padding-top: 1.4em;\"/>\n    </IonHeader>\n    <IonContent\n      ref=\"stuff\"\n      :scroll-events=\"true\">\n      <IonItem>\n        <IonToolbar>\n          <IonMenuToggle auto-hide=\"false\" slot=\"start\">\n            <img id=\"avatarBar\" alt=\"Silhouette of a person's head\" src=\"../../public/assets/banners/hacker_soft_colors.png\"/>\n          </IonMenuToggle>\n          <IonTitle>iCoo</IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton>\n              <IonIcon :icon=\"search\" color=\"tertiary\" size=\"large\"/>\n            </IonButton>\n            <IonButton href=\"/tabs/notifications\">\n              <IonIcon :icon=\"notifications\" color=\"tertiary\"/>\n              <IonBadge slot=\"end\" color=\"danger\">22</IonBadge>\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n        <IonSegment\n            value=\"joined\"\n            @ionChange=\"segmentChanged($event)\"\n            v-model=\"view.value\">\n          <IonSegmentButton value=\"Discover\">\n            Discover\n          </IonSegmentButton>\n          <IonSegmentButton value=\"joined\">\n            Joined\n          </IonSegmentButton>\n          <IonSegmentButton value=\"invites\">\n            Invites\n          </IonSegmentButton>\n          <IonSegmentButton value=\"kickstart\">\n            Kickstarters\n          </IonSegmentButton>\n          <IonItem>\n            <IonIcon :icon=\"menu\"/>\n          </IonItem>\n        </IonSegment>\n      </IonItem>\n      <div v-if=\"view.value == 'joined'\">\n        <div v-for=\"(value, name) in groups\" :key=\"name\">\n          <div v-if=\"value.type === 'm.space'\n                  && value.name !== 'internal_groups'\n                  && value.name !== 'board'\n                  && value.name !== 'groups'\n                  && value.name !== 'chat'\n                  && value.name !== 'searchable'\">\n            <GroupItem\n                :name=\"value.name\"\n                :id=\"value.id\"\n                :topic=\"value.topic.text\"\n                :handle=\"value.handle\"\n                :href=\"value.href\"\n                :banner=\"value.topic.banner\"/>\n          </div>\n        </div>\n      </div>\n      <div v-else-if=\"view.value == 'kickstart'\">\n        <KickstartItem\n          name=\"Permaculture Sognsvann\"\n          id=\"nope\"\n          topic=\"Starting a permaculture project at Sognsvann. \n                 Need people who know their shit.\"\n          handle=\"permakultursognsvann\"\n          href=\"something\"\n          banner=\"farm\"/>\n        <KickstartItem\n          name=\"Plastic Recycling Grünerløkka\"\n          id=\"yope\"\n          topic=\"Cutting up plastic and melting the shit. \n                 Need people who like the smell of burning ethylene.\"\n          handle=\"recyclegrunerlokka\"\n          href=\"something\"\n          banner=\"factory\"/>\n      </div>\n    </IonContent>\n    <IonFab slot=\"fixed\" vertical=\"bottom\" horizontal=\"end\">\n      <IonFabButton @click=\"openModal\" color=\"dark\">\n        <IonIcon :icon=\"add\"></IonIcon>\n      </IonFabButton>\n    </IonFab>\n  </IonPage>\n</template>\n\n<script>\n/* eslint-disable vue/no-unused-components */\nimport {defineComponent, ref, reactive} from 'vue';\nimport {\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonList,\n  modalController,\n  IonButton,\n  IonMenu,\n  IonMenuToggle,\n  IonIcon,\n  IonMenuButton,\n  IonFabButton,\n  IonFabList,\n  IonFab,\n  IonChip,\n  IonItem,\n  IonButtons,\n  IonLabel,\n  IonCard,\n  IonCardHeader,\n  IonSearchbar,\n  IonRefresher,\n  IonRefresherContent,\n  IonSegment,\n  IonSegmentButton,\n} from '@ionic/vue';\nimport {\n  arrowBack,\n  chevronUpCircle,\n  add,\n  menu,\n  close,\n  search,\n  personCircle,\n  addCircle,\n  bulb,\n  caretUp,\n  peopleCircle,\n  chatbox,\n  calendarClear,\n  colorFilter,\n  colorFilterSharp,\n  clipboard,\n} from 'ionicons/icons';\nimport {useMatrixClient} from '../stores/MatrixClient.js';\nimport GroupItem from \"@/components/GroupItem.vue\";\nimport KickstartItem from \"@/components/KickstartItem.vue\";\nimport CreateGroupModal from '@/menus/CreateGroupModal.vue';\nimport { useScroll } from '@vueuse/core'\n\n// TODO: get checkboxes/buttons to filter chats from tools etc\n// TODO: Groups need to be able to migrate members from one group to another\n// TODO: make a function that will resolve the whole address for a group, including all of /tabs/:id\n// TODO: if (document.body.scrollTop < 0) should solve displaying searchbar\n\nconst client = useMatrixClient()\n\nlet content = reactive({content: 'joined'})\nlet view = reactive({value: 'kickstart'})\nlet groups = reactive({})\nlet group = reactive({\n  name: '',\n  id: '',\n  topic: '',\n  type: '',\n})\n\nsetInterval(() => {\n  Object.assign(groups, client.getGroups())\n  console.log(groups)\n  if (Object.keys(groups).length !== 0 && content.content !== 'group') {\n    content.content = 'list'\n  }\n}, 5000)\n\nexport default defineComponent({\n  name: 'GroupsPage',\n  components: {\n    IonRefresher,\n    IonRefresherContent,\n    GroupItem,\n    IonContent,\n    IonPage,\n    IonList,\n    IonHeader,\n    IonToolbar,\n    IonFab,\n    IonFabButton,\n    IonButtons,\n    IonItem,\n    IonFabList,\n    IonIcon,\n    IonButton,\n    IonTitle,\n    IonSearchbar,\n    IonCard,\n    IonCardHeader,\n    IonSegment,\n    IonSegmentButton,\n    KickstartItem,\n  },\n  setup() {\n    return {\n      menu,\n      close,\n      personCircle,\n      search,\n      addCircle,\n      add,\n      bulb,\n      chevronUpCircle,\n      arrowBack,\n      caretUp,\n      peopleCircle,\n      chatbox,\n      colorFilterSharp,\n      clipboard,\n      calendarClear,\n    }\n  },\n  data() {\n    return {\n      group: group,\n      groups: groups,\n      content: content,\n      view: view,\n    }\n  },\n  methods: {\n    async openModal() {\n      const modal = await modalController.create({\n        component: CreateGroupModal,\n      });\n      await modal.present();\n\n      const {data, role} = await modal.onWillDismiss();\n\n      if (role === 'confirm') {\n        console.log(\"sure thing\")\n      }\n    },\n    segmentChanged(event) {\n      view.value = event.detail.value;\n      console.log(view.value)\n    },\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        Object.assign(groups, client.getGroups())\n        if (Object.keys(groups).length !== 0 && content.content !== 'group') {\n          content.content = 'list'\n        }\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    )\n  },\n});\n</script>\n\n<style scoped>\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}