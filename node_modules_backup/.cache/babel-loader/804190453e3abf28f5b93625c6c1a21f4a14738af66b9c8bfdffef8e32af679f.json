{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"p\", {\n  style: {\n    \"padding-top\": \"1.4em\"\n  }\n}, null, -1 /* HOISTED */);\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_IonHeader = _resolveComponent(\"IonHeader\");\n  const _component_IonSegmentButton = _resolveComponent(\"IonSegmentButton\");\n  const _component_IonIcon = _resolveComponent(\"IonIcon\");\n  const _component_IonItem = _resolveComponent(\"IonItem\");\n  const _component_IonSegment = _resolveComponent(\"IonSegment\");\n  const _component_GroupItem = _resolveComponent(\"GroupItem\");\n  const _component_KickstartItem = _resolveComponent(\"KickstartItem\");\n  const _component_IonContent = _resolveComponent(\"IonContent\");\n  const _component_IonFabButton = _resolveComponent(\"IonFabButton\");\n  const _component_IonFab = _resolveComponent(\"IonFab\");\n  const _component_IonPage = _resolveComponent(\"IonPage\");\n  return _openBlock(), _createBlock(_component_IonPage, null, {\n    default: _withCtx(() => [_createVNode(_component_IonHeader, null, {\n      default: _withCtx(() => [_hoisted_1]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_IonContent, {\n      ref: \"stuff\",\n      \"scroll-events\": true\n    }, {\n      default: _withCtx(() => [_createVNode(_component_IonItem, null, {\n        default: _withCtx(() => [_createVNode(_component_IonSegment, {\n          value: \"kickstart\",\n          onIonChange: _cache[0] || (_cache[0] = $event => _ctx.segmentChanged($event)),\n          modelValue: _ctx.view.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.view.value = $event)\n        }, {\n          default: _withCtx(() => [_createVNode(_component_IonSegmentButton, {\n            value: \"joined\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" Joined \")]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_IonSegmentButton, {\n            value: \"invites\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" Invites \")]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_IonSegmentButton, {\n            value: \"Discover\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" Discover \")]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_IonSegmentButton, {\n            value: \"kickstart\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" Kickstarters \")]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_IonSegmentButton, null, {\n            default: _withCtx(() => [_createVNode(_component_IonItem, null, {\n              default: _withCtx(() => [_createVNode(_component_IonIcon, {\n                icon: _ctx.menu\n              }, null, 8 /* PROPS */, [\"icon\"])]),\n              _: 1 /* STABLE */\n            })]),\n\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _ctx.view.value == 'joined' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.groups, (value, name) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: name\n        }, [value.type === 'm.space' && value.name !== 'internal_groups' && value.name !== 'board' && value.name !== 'groups' && value.name !== 'chat' && value.name !== 'searchable' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_GroupItem, {\n          name: value.name,\n          id: value.id,\n          topic: value.topic.text,\n          handle: value.handle,\n          href: value.href,\n          banner: value.topic.banner\n        }, null, 8 /* PROPS */, [\"name\", \"id\", \"topic\", \"handle\", \"href\", \"banner\"])])) : _createCommentVNode(\"v-if\", true)]);\n      }), 128 /* KEYED_FRAGMENT */))])) : _ctx.view.value == 'kickstart' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_KickstartItem, {\n        name: \"Permaculture Sognsvann\",\n        id: \"nope\",\n        topic: \"Starting a permaculture project at Sognsvann. \\n                 Need people who know their shit.\",\n        handle: \"permakultursognsvann\",\n        href: \"something\",\n        banner: \"farm\"\n      }), _createVNode(_component_KickstartItem, {\n        name: \"Plastic Recycling Grünerløkka\",\n        id: \"yope\",\n        topic: \"Cutting up plastic and melting the shit. \\n                 Need people who like the smell of burning ethylene.\",\n        handle: \"recyclegrunerlokka\",\n        href: \"something\",\n        banner: \"factory\"\n      })])) : _createCommentVNode(\"v-if\", true)]),\n      _: 1 /* STABLE */\n    }, 512 /* NEED_PATCH */), _createVNode(_component_IonFab, {\n      slot: \"fixed\",\n      vertical: \"bottom\",\n      horizontal: \"end\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_IonFabButton, {\n        onClick: _ctx.openModal,\n        color: \"dark\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_IonIcon, {\n          icon: _ctx.add\n        }, null, 8 /* PROPS */, [\"icon\"])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"mappings":";gCAGMA,oBAAgC;EAA7BC,KAA2B,EAA3B;IAAA;EAAA;AAA2B;;;;;;;;;;;;;;;;;;;;;;uBAFlCC,aAyEUC;sBAxER,MAEY,CAFZC,aAEYC;wBADV,MAAgC,CAAhCC,UAAgC;;QAElCF,aA+DaG;MA9DXC,GAAG,EAAC,OAAO;MACV,eAAa,EAAE;;wBAChB,MAuBU,CAvBVJ,aAuBUK;0BAtBR,MAqBa,CArBbL,aAqBaM;UApBTC,KAAK,EAAC,WAAW;UAChBC,WAAS,sCAAEC,mBAAc,CAACC,MAAM;sBACxBD,SAAI,CAACF,KAAK;qEAAVE,SAAI,CAACF,KAAK;;4BACrB,MAEmB,CAFnBP,aAEmBW;YAFDJ,KAAK,EAAC;UAAQ;8BAAC,MAEjC,kBAFiC,UAEjC;;cACAP,aAEmBW;YAFDJ,KAAK,EAAC;UAAS;8BAAC,MAElC,kBAFkC,WAElC;;cACAP,aAEmBW;YAFDJ,KAAK,EAAC;UAAU;8BAAC,MAEnC,kBAFmC,YAEnC;;cACAP,aAEmBW;YAFDJ,KAAK,EAAC;UAAW;8BAAC,MAEpC,kBAFoC,gBAEpC;;cACAP,aAIeW;8BAHnB,MAEU,CAFVX,aAEUK;gCADR,MAAuB,CAAvBL,aAAuBY;gBAAbC,IAAI,EAAEJ;cAAI;;;;;;;;;;UAKXA,SAAI,CAACF,KAAK,8BAArBO,oBAiBM,uCAhBJA,oBAeMC,6BAfuBN,WAAM,GAAtBF,KAAK,EAAES,IAAI;6BAAxBF,oBAeM;UAfgCG,GAAG,EAAED;QAAI,IAClCT,KAAK,CAACW,IAAI,kBAAoCX,KAAK,CAACS,IAAI,0BAA4CT,KAAK,CAACS,IAAI,gBAAkCT,KAAK,CAACS,IAAI,iBAAmCT,KAAK,CAACS,IAAI,eAAiCT,KAAK,CAACS,IAAI,mCAA7PF,oBAaM,oBAPJd,aAMkCmB;UAL7BH,IAAI,EAAET,KAAK,CAACS,IAAI;UAChBI,EAAE,EAAEb,KAAK,CAACa,EAAE;UACZC,KAAK,EAAEd,KAAK,CAACc,KAAK,CAACC,IAAI;UACvBC,MAAM,EAAEhB,KAAK,CAACgB,MAAM;UACpBC,IAAI,EAAEjB,KAAK,CAACiB,IAAI;UAChBC,MAAM,EAAElB,KAAK,CAACc,KAAK,CAACI;;0CAIfhB,SAAI,CAACF,KAAK,iCAA1BO,oBAiBM,oBAhBJd,aAOiB0B;QANfV,IAAI,EAAC,wBAAwB;QAC7BI,EAAE,EAAC,MAAM;QACTC,KAAK,EAAC,mGACkC;QACxCE,MAAM,EAAC,sBAAsB;QAC7BC,IAAI,EAAC,WAAW;QAChBC,MAAM,EAAC;UACTzB,aAOoB0B;QANlBV,IAAI,EAAC,+BAA+B;QACpCI,EAAE,EAAC,MAAM;QACTC,KAAK,EAAC,iHACqD;QAC3DE,MAAM,EAAC,oBAAoB;QAC3BC,IAAI,EAAC,WAAW;QAChBC,MAAM,EAAC;;;8BAGbzB,aAIS2B;MAJDC,IAAI,EAAC,OAAO;MAACC,QAAQ,EAAC,QAAQ;MAACC,UAAU,EAAC;;wBAChD,MAEe,CAFf9B,aAEe+B;QAFAC,OAAK,EAAEvB,cAAS;QAAEwB,KAAK,EAAC;;0BACrC,MAA+B,CAA/BjC,aAA+BY;UAArBC,IAAI,EAAEJ;QAAG","names":["_createElementVNode","style","_createBlock","_component_IonPage","_createVNode","_component_IonHeader","_hoisted_1","_component_IonContent","ref","_component_IonItem","_component_IonSegment","value","onIonChange","_ctx","$event","_component_IonSegmentButton","_component_IonIcon","icon","_createElementBlock","_Fragment","name","key","type","_component_GroupItem","id","topic","text","handle","href","banner","_component_KickstartItem","_component_IonFab","slot","vertical","horizontal","_component_IonFabButton","onClick","color"],"sourceRoot":"","sources":["/Users/observerzero/Project/Dev/icoo/src/views/Groups.vue"],"sourcesContent":["<template>\n  <IonPage>\n    <IonHeader>\n      <p style=\"padding-top: 1.4em;\"/>\n    </IonHeader>\n    <IonContent\n      ref=\"stuff\"\n      :scroll-events=\"true\">\n      <IonItem>\n        <IonSegment\n            value=\"kickstart\"\n            @ionChange=\"segmentChanged($event)\"\n            v-model=\"view.value\">\n          <IonSegmentButton value=\"joined\">\n            Joined\n          </IonSegmentButton>\n          <IonSegmentButton value=\"invites\">\n            Invites\n          </IonSegmentButton>\n          <IonSegmentButton value=\"Discover\">\n            Discover\n          </IonSegmentButton>\n          <IonSegmentButton value=\"kickstart\">\n            Kickstarters\n          </IonSegmentButton>\n          <IonSegmentButton>\n      <IonItem>\n        <IonIcon :icon=\"menu\"/>\n      </IonItem>\n      </IonSegmentButton>\n        </IonSegment>\n      </IonItem>\n      <div v-if=\"view.value == 'joined'\">\n        <div v-for=\"(value, name) in groups\" :key=\"name\">\n          <div v-if=\"value.type === 'm.space'\n                  && value.name !== 'internal_groups'\n                  && value.name !== 'board'\n                  && value.name !== 'groups'\n                  && value.name !== 'chat'\n                  && value.name !== 'searchable'\">\n            <GroupItem\n                :name=\"value.name\"\n                :id=\"value.id\"\n                :topic=\"value.topic.text\"\n                :handle=\"value.handle\"\n                :href=\"value.href\"\n                :banner=\"value.topic.banner\"/>\n          </div>\n        </div>\n      </div>\n      <div v-else-if=\"view.value == 'kickstart'\">\n        <KickstartItem\n          name=\"Permaculture Sognsvann\"\n          id=\"nope\"\n          topic=\"Starting a permaculture project at Sognsvann. \n                 Need people who know their shit.\"\n          handle=\"permakultursognsvann\"\n          href=\"something\"\n          banner=\"farm\"/>\n        <KickstartItem\n          name=\"Plastic Recycling Grünerløkka\"\n          id=\"yope\"\n          topic=\"Cutting up plastic and melting the shit. \n                 Need people who like the smell of burning ethylene.\"\n          handle=\"recyclegrunerlokka\"\n          href=\"something\"\n          banner=\"factory\"/>\n      </div>\n    </IonContent>\n    <IonFab slot=\"fixed\" vertical=\"bottom\" horizontal=\"end\">\n      <IonFabButton @click=\"openModal\" color=\"dark\">\n        <IonIcon :icon=\"add\"></IonIcon>\n      </IonFabButton>\n    </IonFab>\n  </IonPage>\n</template>\n\n<script>\n/* eslint-disable vue/no-unused-components */\nimport {defineComponent, ref, reactive} from 'vue';\nimport {\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonList,\n  modalController,\n  IonButton,\n  IonMenu,\n  IonMenuToggle,\n  IonIcon,\n  IonMenuButton,\n  IonFabButton,\n  IonFabList,\n  IonFab,\n  IonChip,\n  IonItem,\n  IonButtons,\n  IonLabel,\n  IonCard,\n  IonCardHeader,\n  IonSearchbar,\n  IonRefresher,\n  IonRefresherContent,\n  IonSegment,\n  IonSegmentButton,\n} from '@ionic/vue';\nimport {\n  arrowBack,\n  chevronUpCircle,\n  add,\n  menu,\n  close,\n  search,\n  personCircle,\n  addCircle,\n  bulb,\n  caretUp,\n  peopleCircle,\n  chatbox,\n  calendarClear,\n  colorFilter,\n  colorFilterSharp,\n  clipboard,\n} from 'ionicons/icons';\nimport {useMatrixClient} from '../stores/MatrixClient.js';\nimport GroupItem from \"@/components/GroupItem.vue\";\nimport KickstartItem from \"@/components/KickstartItem.vue\";\nimport CreateGroupModal from '@/menus/CreateGroupModal.vue';\nimport { useScroll } from '@vueuse/core'\n\n// TODO: get checkboxes/buttons to filter chats from tools etc\n// TODO: Groups need to be able to migrate members from one group to another\n// TODO: make a function that will resolve the whole address for a group, including all of /tabs/:id\n// TODO: if (document.body.scrollTop < 0) should solve displaying searchbar\n\nconst client = useMatrixClient()\n\nlet content = reactive({content: 'joined'})\nlet view = reactive({value: 'kickstart'})\nlet groups = reactive({})\nlet group = reactive({\n  name: '',\n  id: '',\n  topic: '',\n  type: '',\n})\n\nsetInterval(() => {\n  Object.assign(groups, client.getGroups())\n  console.log(groups)\n  if (Object.keys(groups).length !== 0 && content.content !== 'group') {\n    content.content = 'list'\n  }\n}, 5000)\n\nexport default defineComponent({\n  name: 'GroupsPage',\n  components: {\n    IonRefresher,\n    IonRefresherContent,\n    GroupItem,\n    IonContent,\n    IonPage,\n    IonList,\n    IonHeader,\n    IonToolbar,\n    IonFab,\n    IonFabButton,\n    IonButtons,\n    IonItem,\n    IonFabList,\n    IonIcon,\n    IonButton,\n    IonTitle,\n    IonSearchbar,\n    IonCard,\n    IonCardHeader,\n    IonSegment,\n    IonSegmentButton,\n    KickstartItem,\n  },\n  setup() {\n    return {\n      menu,\n      close,\n      personCircle,\n      search,\n      addCircle,\n      add,\n      bulb,\n      chevronUpCircle,\n      arrowBack,\n      caretUp,\n      peopleCircle,\n      chatbox,\n      colorFilterSharp,\n      clipboard,\n      calendarClear,\n    }\n  },\n  data() {\n    return {\n      group: group,\n      groups: groups,\n      content: content,\n      view: view,\n    }\n  },\n  methods: {\n    async openModal() {\n      const modal = await modalController.create({\n        component: CreateGroupModal,\n      });\n      await modal.present();\n\n      const {data, role} = await modal.onWillDismiss();\n\n      if (role === 'confirm') {\n        console.log(\"sure thing\")\n      }\n    },\n    segmentChanged(event) {\n      view.value = event.detail.value;\n      console.log(view.value)\n    },\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        window.scroll(0, 50)\n        Object.assign(groups, client.getGroups())\n        if (Object.keys(groups).length !== 0 && content.content !== 'group') {\n          content.content = 'list'\n        }\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    )\n  },\n});\n</script>\n\n<style scoped>\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}