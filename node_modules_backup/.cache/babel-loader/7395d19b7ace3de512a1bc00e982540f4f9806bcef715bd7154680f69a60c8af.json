{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\";\nimport _imports_0 from '../../public/assets/banners/hacker_soft_colors.png';\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"img\", {\n  alt: \"Person\",\n  src: _imports_0\n}, null, -1 /* HOISTED */);\nconst _hoisted_2 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_IonAvatar = _resolveComponent(\"IonAvatar\");\n  const _component_IonLabel = _resolveComponent(\"IonLabel\");\n  const _component_IonItem = _resolveComponent(\"IonItem\");\n  const _component_IonCardHeader = _resolveComponent(\"IonCardHeader\");\n  const _component_IonCardContent = _resolveComponent(\"IonCardContent\");\n  const _component_IonCard = _resolveComponent(\"IonCard\");\n  const _component_IonButton = _resolveComponent(\"IonButton\");\n  const _component_IonButtons = _resolveComponent(\"IonButtons\");\n  const _component_IonSearchbar = _resolveComponent(\"IonSearchbar\");\n  const _component_IonIcon = _resolveComponent(\"IonIcon\");\n  const _component_IonBadge = _resolveComponent(\"IonBadge\");\n  const _component_IonToolbar = _resolveComponent(\"IonToolbar\");\n  const _component_IonChip = _resolveComponent(\"IonChip\");\n  const _component_IonModal = _resolveComponent(\"IonModal\");\n  const _component_IonContent = _resolveComponent(\"IonContent\");\n  return _openBlock(), _createBlock(_component_IonContent, null, {\n    default: _withCtx(() => [_createVNode(_component_IonCard, null, {\n      default: _withCtx(() => [_createVNode(_component_IonCardHeader, null, {\n        default: _withCtx(() => [_createVNode(_component_IonItem, {\n          href: \"/tabs/profile\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_IonAvatar, null, {\n            default: _withCtx(() => [_hoisted_1]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_IonLabel, {\n            style: {\n              \"margin-left\": \"1em\"\n            }\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString($props.message.creator), 1 /* TEXT */)]),\n\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_IonCardContent, {\n        onClick: _cache[0] || (_cache[0] = $event => $options.openModal($props.message))\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($props.message.topic.text), 1 /* TEXT */)]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_IonModal, {\n      ref: \"modal\",\n      trigger: \"open-modal\",\n      onWillDismiss: $options.onWillDismiss\n    }, {\n      default: _withCtx(() => [_createVNode(_component_IonToolbar, null, {\n        default: _withCtx(() => [_createVNode(_component_IonButtons, {\n          slot: \"start\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_IonButton, {\n            onClick: _ctx.close\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"close\")]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_IonSearchbar), _createVNode(_component_IonButtons, {\n          slot: \"end\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_IonButton, null, {\n            default: _withCtx(() => [_createVNode(_component_IonIcon, {\n              icon: _ctx.notifications,\n              color: \"tertiary\"\n            }, null, 8 /* PROPS */, [\"icon\"]), _createVNode(_component_IonBadge, {\n              slot: \"end\",\n              color: \"danger\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(\"2\")]),\n              _: 1 /* STABLE */\n            })]),\n\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_IonCard, null, {\n        default: _withCtx(() => [_createVNode(_component_IonCardHeader, null, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($props.message.topic.text), 1 /* TEXT */)]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.message.content, entry => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: entry\n        }, [entry.type === 'm.room.message' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_IonCard, null, {\n          default: _withCtx(() => [_createVNode(_component_IonCardHeader, null, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(entry.sender), 1 /* TEXT */)]),\n\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_IonCardContent, null, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(entry.content.body), 1 /* TEXT */)]),\n\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_IonChip, null, {\n            default: _withCtx(() => [_createTextVNode(\" Reply \")]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)])) : _createCommentVNode(\"v-if\", true)]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onWillDismiss\"]), _createVNode(_component_IonChip, {\n      id: \"open-modal\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"heh\")]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"mappings":";OAM8BA,UAAwD;gCAA1EC,oBAA6E;EAAxEC,GAAG,EAAC,QAAQ;EAACC,GAAwD,EAAxDH;;;;;;;;;;;;;;;;;;;;;uBAL5BI,aAkDaC;sBAjDX,MAYU,CAZVC,aAYUC;wBAXR,MASgB,CAThBD,aASgBE;0BARd,MAOU,CAPVF,aAOUG;UAPDC,IAAI,EAAC;QAAe;4BAC3B,MAEY,CAFZJ,aAEYK;8BADV,MAA6E,CAA7EC,UAA6E;;cAE/EN,aAEWO;YAFDC,KAAyB,EAAzB;cAAA;YAAA;UAAyB;8BACjC,MAAqB,mCAAlBC,cAAO,CAACC,OAAO;;;;;;;;;UAIxBV,aAAqFW;QAApEC,OAAK,sCAAEC,kBAAS,CAACJ,cAAO;;0BAAG,MAAwB,mCAArBA,cAAO,CAACK,KAAK,CAACC,IAAI;;;;;;QAGnEf,aAgCWgB;MAhCDC,GAAG,EAAC,OAAO;MAACC,OAAO,EAAC,YAAY;MAAEC,aAAW,EAAEN;;wBACvD,MAWa,CAXbb,aAWaoB;0BAVX,MAEa,CAFbpB,aAEaqB;UAFDC,IAAI,EAAC;QAAO;4BACtB,MAA2C,CAA3CtB,aAA2CuB;YAA/BX,OAAK,EAAEY;UAAK;8BAAE,MAAK,kBAAL,OAAK;;;;YAEjCxB,aAA6ByB,0BAC7BzB,aAKaqB;UALDC,IAAI,EAAC;QAAK;4BACpB,MAGY,CAHZtB,aAGYuB;8BAFV,MAAkD,CAAlDvB,aAAkD0B;cAAxCC,IAAI,EAAEH,kBAAa;cAAEI,KAAK,EAAC;+CACrC5B,aAAgD6B;cAAtCP,IAAI,EAAC,KAAK;cAACM,KAAK,EAAC;;gCAAS,MAAC,kBAAD,GAAC;;;;;;;;;;;UAI3C5B,aAIUC;0BAHR,MAEgB,CAFhBD,aAEgBE;4BADd,MAAwB,mCAArBO,cAAO,CAACK,KAAK,CAACC,IAAI;;;;;;6BAG3Be,oBAaMC,6BAbetB,cAAO,CAACuB,OAAO,EAAxBC,KAAK;6BAAjBH,oBAaM;UAbuCI,GAAG,EAAED;QAAK,IAC1CA,KAAK,CAACE,IAAI,uCAArBL,oBAWI,oBAVJ9B,aASUC;4BARR,MAEgB,CAFhBD,aAEgBE;8BADd,MAAkB,mCAAf+B,KAAK,CAACG,MAAM;;;wCAGjBpC,aAAyDW;8BAAzC,MAAwB,mCAArBsB,KAAK,CAACD,OAAO,CAACK,IAAI;;;wCACrCrC,aAEUsC;8BAFD,MAET,kBAFS,SAET;;;;;;;;;0CAMJtC,aAAsCsC;MAA7BC,EAAE,EAAC;IAAY;wBAAC,MAAG,kBAAH,KAAG","names":["_imports_0","_createElementVNode","alt","src","_createBlock","_component_IonContent","_createVNode","_component_IonCard","_component_IonCardHeader","_component_IonItem","href","_component_IonAvatar","_hoisted_1","_component_IonLabel","style","$props","creator","_component_IonCardContent","onClick","$options","topic","text","_component_IonModal","ref","trigger","onWillDismiss","_component_IonToolbar","_component_IonButtons","slot","_component_IonButton","_ctx","_component_IonSearchbar","_component_IonIcon","icon","color","_component_IonBadge","_createElementBlock","_Fragment","content","entry","key","type","sender","body","_component_IonChip","id"],"sourceRoot":"","sources":["/Users/observerzero/Project/Dev/icoo/src/components/ChatItem.vue"],"sourcesContent":["<template>\n  <IonContent>\n    <IonCard>\n      <IonCardHeader>\n        <IonItem href=\"/tabs/profile\">\n          <IonAvatar>\n            <img alt=\"Person\" src=\"../../public/assets/banners/hacker_soft_colors.png\" />\n          </IonAvatar>\n          <IonLabel style=\"margin-left: 1em;\">\n            {{ message.creator }}\n          </IonLabel>\n        </IonItem>\n      </IonCardHeader>\n      <IonCardContent @click=\"openModal(message)\">{{ message.topic.text }}</IonCardContent>\n    </IonCard>\n\n    <IonModal ref=\"modal\" trigger=\"open-modal\" @willDismiss=\"onWillDismiss\">\n      <IonToolbar>\n        <IonButtons slot=\"start\">\n          <IonButton @click=\"close\">close</IonButton>\n        </IonButtons>\n        <IonSearchbar></IonSearchbar>\n        <IonButtons slot=\"end\">\n          <IonButton>\n            <IonIcon :icon=\"notifications\" color=\"tertiary\" />\n            <IonBadge slot=\"end\" color=\"danger\">2</IonBadge>\n          </IonButton>\n        </IonButtons>\n      </IonToolbar>\n      <IonCard>\n        <IonCardHeader>\n          {{ message.topic.text }}\n        </IonCardHeader>\n      </IonCard>\n    <div v-for=\"entry in message.content\" v-bind:key=\"entry\">\n      <div v-if=\"entry.type === 'm.room.message'\">\n      <IonCard>\n        <IonCardHeader>\n          {{ entry.sender }}\n        </IonCardHeader>\n\n        <IonCardContent>{{ entry.content.body }}</IonCardContent>\n        <IonChip>\n          Reply\n        </IonChip>\n      </IonCard>\n    </div>\n    </div>\n    </IonModal>\n\n    <IonChip id=\"open-modal\">heh</IonChip>\n  </IonContent>\n</template>\n\n<script>\n/* eslint-disable vue/no-unused-components */\nimport {\n  IonItem,\n  IonCardHeader,\n  IonCardContent,\n  IonList,\n  IonButton,\n  IonButtons,\n  IonCardTitle,\n  IonChip,\n  IonAvatar, \n  IonCard, \n  IonLabel,\n  modalController,\n  IonModal,\n  IonToolbar,\n} from '@ionic/vue';\n\nimport {defineComponent, reactive, ref} from 'vue';\nimport { useMatrixClient } from \"@/stores/MatrixClient\";\nimport {useCrossPage} from \"@/stores/CrossPageUpdates\";\nimport Modal from \"@/menus/Modal.vue\";\nimport ChatModal from \"@/menus/ChatModal.vue\";\n\nlet client = useMatrixClient();\nlet crossPage = useCrossPage();\n\nlet content = ref({})\nlet chats = ref({})\nlet timeline = ref({})\n\nexport default {\n  name: \"ChatItem\",\n  data() {\n    return {\n    }\n  },\n  props: {\n    message: Object,\n  },\n  components: {\n    IonCardContent,\n    IonAvatar,\n    IonItem,\n    IonCard,\n    IonLabel,\n    IonCardHeader,\n    modalController,\n    IonChip,\n    IonModal,\n    IonButton,\n    IonToolbar,\n  },\n  methods: {\n    cancel() {\n      this.$refs.modal.$el.dismiss(null, 'cancel');\n    },\n    confirm() {\n      const name = this.$refs.input.$el.value;\n      this.$refs.modal.$el.dismiss(name, 'confirm');\n    },\n    onWillDismiss(ev) {\n      if (ev.detail.role === 'confirm') {\n        return\n      }\n    },\n\n    async openModal(topic) {\n      let thaTopic = topic;\n      thaTopic.creator = topic.creator.replace(/:.*/, '');\n      const modal = await modalController.create({\n        component: ChatModal,\n        componentProps: {\n          message: thaTopic,\n        }\n      });\n      await modal.present();\n\n      const {data, role} = await modal.onWillDismiss();\n\n      if (role === 'confirm') {\n        console.log(\"sure thing\")\n      }\n    },\n\n    async fetchData() {\n      const id = \"!\" + this.$route.params.id + \":matrix.org\";\n      setInterval(async () => {\n        try {\n          content = await client.getChatContent(Object.keys(this.thaTopic))\n        } catch {\n          return\n        }\n      }, 2000);\n    },\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        const id = \"!\" + this.$route.params.id + \":matrix.org\";\n        this.fetchData()\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    )\n  },\n}\n</script>\n\n<style scoped></style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}